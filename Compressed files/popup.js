function initializeTable(){document.getElementById("tcpacDisplayDiv").insertAdjacentHTML("afterbegin",'<table><tr id="tcpacTableRow0"><th>'+chrome.i18n.getMessage("channel")+"</th><th>"+chrome.i18n.getMessage("claimedcount")+"</th><th>"+chrome.i18n.getMessage("clearrecord")+"</th></tr></table>"),chrome.storage.local.get("tcpacObj",function(t){let tcpacObj=null==t.tcpacObj?{}:t.tcpacObj,c=0,n=document.getElementById("tcpacTableRow"+c);if(Object.keys(tcpacObj).length>0){for(var a in tcpacObj)n.insertAdjacentHTML("afterend","<tr id='tcpacTableRow"+(c+1)+"'><td><a id='tcpacTableKey"+(c+1)+"' href='https://www.twitch.tv/"+a+"' target='_blank'>"+a+"</a></td><td>"+tcpacObj[a]+" ("+50*tcpacObj[a]+")</td><td><button class='tcpacDelBtn' id='tcpacDelBtn"+(c+1)+"'>"+chrome.i18n.getMessage("clear")+"</button></td></tr>"),c+=1,n=document.getElementById("tcpacTableRow"+c);var d=document.getElementsByClassName("tcpacDelBtn");for(let t=0;t<d.length;t++)d[t].addEventListener("click",function(){let e=document.getElementById("tcpacTableKey"+(t+1)).innerHTML;chrome.storage.local.get("tcpacObj",function(t){let c=t.tcpacObj;delete c[e],chrome.storage.local.set({tcpacObj:c},function(){document.getElementById("tcpacDisplayDiv").innerHTML="",initializeTable()})})})}else n.insertAdjacentHTML("afterend","<tr id='tcpacTableRow"+(c+1)+"'><td>N/A</td><td>N/A</td><td>N/A</td></tr>"),c+=1,n=document.getElementById("tcpacTableRow"+c);n.insertAdjacentHTML("afterend","<tr id='tcpacTableRowLast'><td></td><td></td><td><button id='tcpacRestBtn'>"+chrome.i18n.getMessage("clearall")+"</button></td></tr>"),document.getElementById("tcpacRestBtn").addEventListener("click",function(){chrome.storage.local.remove("tcpacObj",function(){document.getElementById("tcpacDisplayDiv").innerHTML="",initializeTable()})})})}document.addEventListener("DOMContentLoaded",()=>{initializeTable(),document.getElementById("creditDiv").insertAdjacentHTML("beforeend","<p>(Version: "+chrome.runtime.getManifest().version+")</p>")});