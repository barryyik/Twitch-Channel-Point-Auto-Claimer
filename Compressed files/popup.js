const initializeTable=()=>{tcpacDisplayDiv.innerHTML="",tcpacDisplayDiv.insertAdjacentHTML("afterbegin",`<table><tr id="tcpacTableRow0"><th>${chrome.i18n.getMessage("channel")}</th><th>${chrome.i18n.getMessage("claimedcount")}</th><th>${chrome.i18n.getMessage("clearrecord")}</th></tr><tr id='tcpacTableRowLast'><td></td><td></td><td><button  class='tcpacDelBtn' id='tcpacResetBtn'>${chrome.i18n.getMessage("clearall")}</button></td></tr></table>`),chrome.storage.local.get("tcpacObj",a=>{let b=a.tcpacObj??{},c=document.getElementById("tcpacTableRowLast");if(0==Object.keys(b).length)return c.insertAdjacentHTML("beforebegin",`<tr id='tcpacTableRow1'><td>N/A</td><td>N/A</td><td>N/A</td></tr>`);for(var d in b)c.insertAdjacentHTML("beforebegin",`<tr id='tcpacTableRow${d}'><td><a id='tcpacTableKey${d}' href='https://www.twitch.tv/${d}' target='_blank'>${d}</a></td><td>${b[d]} (${50*b[d]})</td><td><button class='tcpacDelBtn' id='tcpacDelBtn${d}'>${chrome.i18n.getMessage("clear")}</button></td></tr>`)})};document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector("#tcpacDisplayDiv");initializeTable(),document.querySelector("#creditDiv").insertAdjacentHTML("beforeend",`<p>(Version: ${chrome.runtime.getManifest().version})</p>`),a.addEventListener("click",a=>"BUTTON"===a.toElement.nodeName?"tcpacResetBtn"===a.target.id?chrome.storage.local.remove("tcpacObj",()=>initializeTable()):void chrome.storage.local.get("tcpacObj",b=>{let c=b.tcpacObj;delete c[a.target.id.substring(11)],chrome.storage.local.set({tcpacObj:c},()=>initializeTable())}):void 0)});